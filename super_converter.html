<!DOCTYPE html>
<html>
	<body>
		<div id="root"></div>	
	</body>
	<script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
	<script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
	<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
	<script type="text/babel">
		// {text, bgcolor, event} 는 ColorBtn이 전달받는 첫번째이자 유일한 인자,(객체)
		// function 첫글자 대문자!
		function ColorBtn({text, bgcolor, event}){
			return(
				<button style ={{
					color: "white",
					padding: "10px 10px",
					border: 0,
					borderRadius: 10,
					backgroundColor: bgcolor,
				}} onClick={event}				
				>
				{text}
				</button>
			);
		}

		function App1() {
			//inverted : data, setInverted : modifier
			// modifier 함수를 가지고 state(데이터)를 변경할 때, 컴포넌트 재생성(새로운 값으로 리렌더링)
			const [inverted, setInverted] = React.useState(false);//inverted 초기값 false
			const [minutes, setMinutes] = React.useState(0);//minutes초기값 0

			// event에 접근, target. value == input을 가져옴
			const m_reaction = (event) => {
				setMinutes(event.target.value);
			};

			//  () = >  ======= function () { return } 과 같음
			const reset = () => setMinutes(0);
			const invert = () => setInverted((current) => !current);
			
			return (
				<div>
					<h3>분/시 변환기</h3>
					<div>
						<label>분: </label>
						<input 
						value={inverted ? minutes * 60 : minutes}
						// inverted가 참이면 minutes * 60, 거짓이면 minutes
						onChange={m_reaction}
						disabled={inverted}
						placeholder="Minutes"
						type="number"
						/>
					</div>
					<div>
						<label>시: </label>
						<input
						value={inverted ? minutes : Math.round(minutes / 60)}
						onChange={m_reaction}
						disabled={!inverted}
						 placeholder="Hours"
						type="number" />
					</div>
					<br />
					<div>
						<ColorBtn text="리셋" bgcolor="skyblue" event={reset}/>
						<ColorBtn text={inverted ? "분=>시" : "시=>분"} bgcolor="pink" event={invert}/>						
					</div>
				</div>
			);
		}

		function App2() {
			//inverted : data, setInverted : modifier
			// modifier 함수를 가지고 state(데이터)를 변경할 때, 컴포넌트 재생성(새로운 값으로 리렌더링)
			const [inverted, setInverted] = React.useState(false);//inverted 초기값 false
			const [kilometers, setKilometers] = React.useState(0);//kilometers초기값 0

			// event에 접근, target. value == input을 가져옴
			const km_reaction = (event) => {
				setKilometers(event.target.value);
			};

			//  () = >  ======= function () { return } 과 같음
			const reset = () => setKilometers(0);
			const invert = () => setInverted((current) => !current);
			
			return (
				<div>
					<h3>킬로미터/마일 변환기</h3>
					<div>
						<label>킬로미터: </label>
						<input 
						value={inverted ? kilometers * 1.609 : kilometers}						
						onChange={km_reaction}
						disabled={inverted}
						placeholder="kilometers"
						type="number"
						/>
					</div>
					<div>
						<label>마일: </label>
						<input
						value={inverted ? kilometers : kilometers / 1.609}
						onChange={km_reaction}
						disabled={!inverted}
						 placeholder="Miles"
						type="number" />
					</div>
					<br />
					<div>
						<ColorBtn text="리셋" bgcolor="skyblue" event={reset}/>
						<ColorBtn text={inverted ? "킬로미터=>마일" : "마일=>킬로미터"} bgcolor="pink" event={invert}/>						
					</div>
				</div>
			);
		}

		function SuperApp() {
			const [index, setindex] = React.useState("0");
			const onSelect = (event) => {
				setindex(event.target.value);
			};

			return (
				<div>
					<h1>변환기</h1>										
					<select value={index} onChange={onSelect}>
						<option value="0">분/시 변환기</option>
						<option value="1">킬로미터/마일 변환기</option>
					</select>
					<hr />										
						{index === "0" ? <App1 /> : null}
						{index === "1" ? <App2 /> : null}
				</div>
			)//index가 0이면 App1을 렌더링, 1이면 App2를 렌더링
		}
		
		// React elemnet를 가지고 HTML로 만들어 배치한다. (사용자에게 보여줌)
		ReactDOM.render(<SuperApp />, root); // <SuperApp /> 을 root 안에 render.
	</script>	
</html>