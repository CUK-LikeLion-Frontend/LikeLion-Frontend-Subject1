<!DOCTYPE html>
<html>
	<body>
		<div id="root"></div>
	</body>
	<script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
	<script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
	<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
	<script type="text/babel">
	 function Button(props) {
      return (
        <button
          style={{
            backgroundColor: props.bgColor,
            color: "white",
            height: "30px",
            border: "none",
            borderRadius: "3px",
            marginRight: "5px",
          }}
          onClick={props.onClick}
        >
          {props.text}
        </button>
      );
    }
	function MinutesToHours() {
			const [inverted, setInverted] = React.useState(false);
            const [minute,setMinute]=React.useState("0");
            const [hour,setHour]=React.useState("0");

          const reset =()=>{
       
            setMinute(0);
            setHour(0);
          }
          const invert=()=>{
            reset();
            setInverted((cur)=>!cur);
          }
          
	
			return (
				<div>
					 
					<div>
						<label>분: </label>
						<input placeholder="minute" type="number" value={!inverted?minute:hour*60} 
                        disabled={inverted}
                        onChange={(e)=>setMinute(e.target.value)}/>
					</div>
					<div>
						<label>시: </label>
						<input placeholder="hour" type="number" value={inverted?hour:Math.round(minute / 60)} 
						onChange={(e)=>setHour(e.target.value)} 
                        disabled={!inverted}/>
                        
					</div>
					<br/>
					
					<div>
            <Button text="리셋" bgColor="tomato" onClick={reset} />
            <Button
              text={inverted ? "분=>시" : "시=>분"}
              bgColor="skyblue"
              onClick={invert}
            />
          </div>
				</div>
			);
		}
		
	function KmToMiles() {
			const [inverted, setInverted] = React.useState(false);
            const [km,setKm]=React.useState("0");
            const [mile,setMile]=React.useState("0");
			const reset =()=>{
       
            setKm(0);
            setMile(0);
          }
            const invert=()=>{
            reset();
            setInverted((cur)=>!cur);
          }

          
	
		return (
			<div>
				<h3>킬로미터/마일 변환기</h3>
			<div>
				<label>km: </label>
				<input placeholder="km" type="number" value={!inverted?km:mile*1.60934} 
            	disabled={inverted}
            	onChange={(e)=>setKm(e.target.value)}/>
			</div>
			<div>
				<label>mile: </label>
				<input placeholder="mile" type="number" value={inverted?mile:km*0.621371} 
				onChange={(e)=>setMile(e.target.value)} 
            	disabled={!inverted}/>            
			</div>
			<br/>
			
			<div>
            <Button text="리셋" bgColor="tomato" onClick={reset} />
            <Button
              text={inverted ? "분=>시" : "시=>분"}
              bgColor="skyblue"
              onClick={invert}
            />
	
    function App() {
        const [index, setIndex] = React.useState("xx");
        const onSelect = (event) => {
    
        setIndex(event.target.value);
            };
            console.log("render w/", index);
	    return (
				<div>
					<h1>분/시 변환기</h1>
                    <select value={index} onChange={onSelect}>
                        <option value="0"> Minutes & Hours </option>
                        <option value="1"> Km & Miles</option>
                    </select>
                    <hr />
                    
                    {index === "0" ? <MinutesToHours /> : null}
                    {index === "1" ? <KmToMiles /> : null}
			        </div>
			);
		}
		ReactDOM.render(<App />, root);
	</script>
</html>